{%- from "knot/map.jinja" import server with context %}

server:
    listen: {{ server.bind.ipv4.address }}@{{ server.bind.ipv4.port }}
    listen: {{ server.bind.ipv6.address }}@{{ server.bind.ipv6.port }}

{%- if server.template is defined %}
template:
{% for template_name, template in server.template.iteritems() %}
  - id: {{ template_name }}
    storage: {{ template.storage }}
    {%- if template.semantic_check is defined %}
    semantic-check: {{ template.semantic_check }}
    {%- endif %}
{%- endfor %}
{%- endif %}
